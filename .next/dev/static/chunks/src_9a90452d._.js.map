{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/lib/supabase-client.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\n// .env file\nconst supabaseUrl=process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\n// supabase client\nexport const supabase=createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAGkB;AAHlB;;AAEA,YAAY;AACZ,MAAM;AACN,MAAM;AAGC,MAAM,WAAS,IAAA,0MAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { supabase } from \"@/lib/supabase-client\";\nimport { CheckCircle2, LogOut, User } from \"lucide-react\";\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\";\n\nexport default function ProtectedLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n\n  const [user, setUser] = useState<SupabaseUser | null>(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  // Check auth status\n  useEffect(() => {\n    const checkUser = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        router.push(\"/signin\");\n      } else {\n        setUser(user);\n      }\n    };\n\n    checkUser();\n\n\n    const { data: listener } = supabase.auth.onAuthStateChange(\n      (_, session) => {\n        if (!session) router.push(\"/signin\");\n        else setUser(session.user);\n      }\n    );\n\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, [router]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/signin\");\n  };\n\n  if (!user)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center text-lg font-semibold\">\n        Loading user session...\n      </div>\n    );\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n     \n      <header className=\"bg-white shadow-sm sticky top-0 z-50\">\n        <div className=\"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center\">\n          <div\n            className=\"flex items-center gap-2 cursor-pointer\"\n            onClick={() => router.push(\"/todos\")}\n          >\n            <CheckCircle2 className=\"text-blue-600 w-7 h-7\" />\n            <h1 className=\"text-xl font-bold\">My Todo App</h1>\n          </div>\n\n          <div className=\"relative\">\n            <button\n              onClick={() => setMenuOpen(!menuOpen)}\n              className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 text-white font-semibold\"\n            >\n              {user.email?.[0]?.toUpperCase()}\n            </button>\n\n            {menuOpen && (\n              <div className=\"absolute right-0 mt-2 w-55 bg-white border rounded-lg shadow-lg py-2 z-50\">\n                <div className=\"px-4 py-2 border-b\">\n                  <p className=\"text-sm font-medium\">\n                    {user.email?.split(\"@\")[0]}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">{user.email}</p>\n                </div>\n\n                <button\n                  onClick={() => {\n                    router.push(\"/profile\");\n                    setMenuOpen(false);\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <User className=\"h-4 w-4\" /> Profile\n                </button>\n\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <LogOut className=\"h-4 w-4\" /> Log out\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n    \n      <main className=\"max-w-5xl mx-auto p-6\">{children}</main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;;AALA;;;;;AAQe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;;IACC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAsB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,oBAAoB;IACpB,IAAA,0KAAS;qCAAC;YACR,MAAM;uDAAY;oBAChB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,OAAO;oBAE/B,IAAI,CAAC,MAAM;wBACT,OAAO,IAAI,CAAC;oBACd,OAAO;wBACL,QAAQ;oBACV;gBACF;;YAEA;YAGA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,+IAAQ,CAAC,IAAI,CAAC,iBAAiB;6CACxD,CAAC,GAAG;oBACF,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC;yBACrB,QAAQ,QAAQ,IAAI;gBAC3B;;YAGF;6CAAO;oBACL,SAAS,YAAY,CAAC,WAAW;gBACnC;;QACF;oCAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,MAAM,+IAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,MACH,qBACE,6LAAC;QAAI,WAAU;kBAAsE;;;;;;IAKzF,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,OAAO,IAAI,CAAC;;8CAE3B,6LAAC,wOAAY;oCAAC,WAAU;;;;;;8CACxB,6LAAC;oCAAG,WAAU;8CAAoB;;;;;;;;;;;;sCAGpC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,YAAY,CAAC;oCAC5B,WAAU;8CAET,KAAK,KAAK,EAAE,CAAC,EAAE,EAAE;;;;;;gCAGnB,0BACC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAE,WAAU;8DACV,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;;;;;;8DAE5B,6LAAC;oDAAE,WAAU;8DAAyB,KAAK,KAAK;;;;;;;;;;;;sDAGlD,6LAAC;4CACC,SAAS;gDACP,OAAO,IAAI,CAAC;gDACZ,YAAY;4CACd;4CACA,WAAU;;8DAEV,6LAAC,6MAAI;oDAAC,WAAU;;;;;;gDAAY;;;;;;;sDAG9B,6LAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,6LAAC,uNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS1C,6LAAC;gBAAK,WAAU;0BAAyB;;;;;;;;;;;;AAG/C;GA3GwB;;QAKP,kJAAS;;;KALF","debugId":null}}]
}