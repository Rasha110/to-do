{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/lib/schema/schema.ts"],"sourcesContent":["import * as yup from \"yup\";\nexport const schema=yup.object({title:yup.string().required(\"title is required!\")});\n\n\n\n\n\n\nexport const getAuthSchema = (mode: \"signup\" | \"login\") =>\n    yup.lazy(() => {\n      return yup.object({\n        name:\n          mode === \"signup\"\n            ? yup.string().required(\"Name is required\")\n            : yup.string().notRequired(),\n        email: yup.string().email(\"Invalid email\").required(\"Email is required\"),\n        password: yup.string().min(6, \"Password must be at least 6 characters\").required(),\n      });\n    });\n  \n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,SAAO,gJAAU,CAAC;IAAC,OAAM,gJAAU,GAAG,QAAQ,CAAC;AAAqB;AAO1E,MAAM,gBAAgB,CAAC,OAC1B,8IAAQ,CAAC;QACP,OAAO,gJAAU,CAAC;YAChB,MACE,SAAS,WACL,gJAAU,GAAG,QAAQ,CAAC,sBACtB,gJAAU,GAAG,WAAW;YAC9B,OAAO,gJAAU,GAAG,KAAK,CAAC,iBAAiB,QAAQ,CAAC;YACpD,UAAU,gJAAU,GAAG,GAAG,CAAC,GAAG,0CAA0C,QAAQ;QAClF;IACF","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/AddTask.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport {schema} from \"../../lib/schema/schema\"\nimport Button from \"../common/Button\";\nimport type { Task } from \"../../lib/type\";\ntype FormInputs = { title: string };\ntype AddTaskProps = {\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\nexport default function AddTask({ tasks, setTasks }: AddTaskProps) {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm<FormInputs>({\n    resolver: yupResolver(schema),\n  });\n  const addTask = async (title: string) => {\n    const {\n      data: { user },\n    } = await supabase.auth.getUser();\n    if (!user) return ;\n    const { data, error } = await supabase\n      .from(\"todos\")\n      .insert([{ title, is_completed: false, user_id: user.id }])\n      .select();\n    if (error) {\n      console.error(\"Insert error:\", error.message);\n      return;\n    }\n    if (data && data.length > 0) {\n      const newTask = data[0] as Task;\n      setTasks((prev) => [newTask, ...prev]);\n    }\n  };\n\n \n  useEffect(() => {\n    \n    const channel = supabase\n      .channel(\"todos-inserts\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"INSERT\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const newTask = payload.new as Task;\n          setTasks((prev) => [newTask, ...prev]);\n        }\n      )\n      .subscribe();\n   {/*   useEffect(() => {\n        const subscription = supabase\n          .from(\"todos\")\n          .on(\"INSERT\", (payload) => {\n            const newTask = payload.new as Task;\n            setTasks((prev) => [newTask, ...prev]);\n          })\n          .subscribe();\n    \n        return () => {\n          supabase.removeSubscription(subscription);\n        };\n      }, [setTasks]);*/}\n\n return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [setTasks]);\n\n  return (\n    <form\n      onSubmit={handleSubmit(async (data) => {\n        await addTask(data.title);\n        reset();\n      })}\n      className=\"flex flex-col max-w-3xl w-full\"\n    >\n      <label className=\"text-gray-700 mb-3 mt-10\">Write your task</label>\n      <input\n        {...register(\"title\")}\n        placeholder=\"Add your task\"\n        className=\"border p-3 \"\n      />\n      {errors.title && (\n        <p className=\"text-red-500 text-sm\">{errors.title.message}</p>\n      )}\n     <Button type=\"submit\" variant=\"primary\"  className=\"mt-5 w-full\">\n        Add\n      </Button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAae,SAAS,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAgB;;IAC/D,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,KAAK,EACL,WAAW,EAAE,MAAM,EAAE,EACtB,GAAG,IAAA,4KAAO,EAAa;QACtB,UAAU,IAAA,gLAAW,EAAC,kJAAM;IAC9B;IACA,MAAM,UAAU,OAAO;QACrB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,sJAAQ,CAAC,IAAI,CAAC,OAAO;QAC/B,IAAI,CAAC,MAAM;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,sJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC;YAAC;gBAAE;gBAAO,cAAc;gBAAO,SAAS,KAAK,EAAE;YAAC;SAAE,EACzD,MAAM;QACT,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iBAAiB,MAAM,OAAO;YAC5C;QACF;QACA,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;YAC3B,MAAM,UAAU,IAAI,CAAC,EAAE;YACvB,SAAS,CAAC,OAAS;oBAAC;uBAAY;iBAAK;QACvC;IACF;IAGA,IAAA,0KAAS;6BAAC;YAER,MAAM,UAAU,sJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;6CACA,CAAC;oBACC,MAAM,UAAU,QAAQ,GAAG;oBAC3B;qDAAS,CAAC,OAAS;gCAAC;mCAAY;6BAAK;;gBACvC;4CAED,SAAS;YACb,CAYoB;YAEtB;qCAAO;oBACF,sJAAQ,CAAC,aAAa,CAAC;gBACzB;;QACF;4BAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;QACC,UAAU,aAAa,OAAO;YAC5B,MAAM,QAAQ,KAAK,KAAK;YACxB;QACF;QACA,WAAU;;0BAEV,6LAAC;gBAAM,WAAU;0BAA2B;;;;;;0BAC5C,6LAAC;gBACE,GAAG,SAAS,QAAQ;gBACrB,aAAY;gBACZ,WAAU;;;;;;YAEX,OAAO,KAAK,kBACX,6LAAC;gBAAE,WAAU;0BAAwB,OAAO,KAAK,CAAC,OAAO;;;;;;0BAE5D,6LAAC,2JAAM;gBAAC,MAAK;gBAAS,SAAQ;gBAAW,WAAU;0BAAc;;;;;;;;;;;;AAKtE;GAvFwB;;QAMlB,4KAAO;;;KANW","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/DeleteTask.tsx"],"sourcesContent":["import React from \"react\";\nimport { Trash2 } from \"lucide-react\";\nimport Button from \"../common/Button\";\nimport type { Task } from \"../../lib/type\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport { useEffect } from \"react\";\ntype Props = {\n  task: Task;\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\n\nconst DeleteTask: React.FC<Props> = ({ task, tasks, setTasks }) => {\n  const handleDelete = async () => {\n    await supabase.from(\"todos\").delete().eq(\"id\", task.id);\n    setTasks(tasks.filter((t) => t.id !== task.id));\n  };\n  useEffect(() => {\n    const channel = supabase\n      .channel(\"todos-deletes\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"DELETE\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const deletedTask = payload.old as Task;\n          setTasks((prev) => prev.filter((t) => t.id !== deletedTask.id));\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(channel); \n    };\n  }, [setTasks]);\n\n  return (\n    <Button\n      onClick={handleDelete}\n      size=\"sm\" \n      variant=\"danger\" \n      className=\"ml-2 p-2 flex items-center justify-center\"\n    >\n      <Trash2 size={15} />\n    </Button>\n  );\n};\n\nexport default DeleteTask;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AACA;;;;;;;AAOA,MAAM,aAA8B,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;;IAC5D,MAAM,eAAe;QACnB,MAAM,sJAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE;QACtD,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;IAC/C;IACA,IAAA,0KAAS;gCAAC;YACR,MAAM,UAAU,sJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;gDACA,CAAC;oBACC,MAAM,cAAc,QAAQ,GAAG;oBAC/B;wDAAS,CAAC,OAAS,KAAK,MAAM;gEAAC,CAAC,IAAM,EAAE,EAAE,KAAK,YAAY,EAAE;;;gBAC/D;+CAED,SAAS;YAEZ;wCAAO;oBACL,sJAAQ,CAAC,aAAa,CAAC;gBACzB;;QACF;+BAAG;QAAC;KAAS;IAEb,qBACE,6LAAC,2JAAM;QACL,SAAS;QACT,MAAK;QACL,SAAQ;QACR,WAAU;kBAEV,cAAA,6LAAC,uNAAM;YAAC,MAAM;;;;;;;;;;;AAGpB;GArCM;KAAA;uCAuCS","debugId":null}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/UpdateTask.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport React, { useState } from \"react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport Button from \"../common/Button\";\nimport type { Task } from \"../../lib/type\";\n\ninterface UpdateTaskProps {\n  task: Task;\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n}\n\nexport default function UpdateTask({ task, tasks, setTasks }: UpdateTaskProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [title, setTitle] = useState(task.title);\n  const [loading, setLoading] = useState(false);\n\n  const handleUpdate = async () => {\n    if (!title.trim()) return;\n  \n    setLoading(true);\n    const now = new Date().toISOString(); \n  \n    const { error } = await supabase\n      .from(\"todos\")\n      .update({ title, updated_at: now })\n      .eq(\"id\", task.id);\n  \n    if (error) {\n      console.error(\"Error updating task:\", error.message);\n    } else {\n      setTasks(tasks.map((t) =>\n        t.id === task.id ? { ...t, title, updated_at: now } : t\n      ));\n      setIsEditing(false);\n    }\n    setLoading(false);\n  };\n  \n\n  useEffect(() => {\n    const channel = supabase\n      .channel(\"todos-updates\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"UPDATE\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const updatedTask = payload.new as Task;\n          setTasks((prev) =>\n            prev.map((t) => (t.id === updatedTask.id ? updatedTask : t))\n          );\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [setTasks]);\n\n\n  return (\n    <div className=\"ml-2 flex items-center gap-2\">\n      {isEditing ? (\n        <>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"border p-1 rounded text-blue-600 bg-white outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n\n\n          <Button onClick={handleUpdate} variant=\"primary\" size=\"sm\"  className=\"p-1\">\n            {loading ? \"Saving...\" : \"Save\"}\n          </Button>\n\n      \n          <Button\n            onClick={() => {\n              setIsEditing(false);\n              setTitle(task.title);\n            }}\n            variant=\"secondary\"\n            className=\"p-1\"\n            size=\"sm\"\n          >\n            Cancel\n          </Button>\n        </>\n      ) : (\n        <Button onClick={() => setIsEditing(true)} variant=\"primary\" size=\"sm\" className=\"p-1\">\n          Edit\n        </Button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;;;AAJA;;;;;AAae,SAAS,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAmB;;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,KAAK,KAAK;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,WAAW;QACX,MAAM,MAAM,IAAI,OAAO,WAAW;QAElC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE;YAAO,YAAY;QAAI,GAChC,EAAE,CAAC,MAAM,KAAK,EAAE;QAEnB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;QACrD,OAAO;YACL,SAAS,MAAM,GAAG,CAAC,CAAC,IAClB,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;oBAAE,GAAG,CAAC;oBAAE;oBAAO,YAAY;gBAAI,IAAI;YAExD,aAAa;QACf;QACA,WAAW;IACb;IAGA,IAAA,0KAAS;gCAAC;YACR,MAAM,UAAU,sJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;gDACA,CAAC;oBACC,MAAM,cAAc,QAAQ,GAAG;oBAC/B;wDAAS,CAAC,OACR,KAAK,GAAG;gEAAC,CAAC,IAAO,EAAE,EAAE,KAAK,YAAY,EAAE,GAAG,cAAc;;;gBAE7D;+CAED,SAAS;YAEZ;wCAAO;oBACL,sJAAQ,CAAC,aAAa,CAAC;gBACzB;;QACF;+BAAG;QAAC;KAAS;IAGb,qBACE,6LAAC;QAAI,WAAU;kBACZ,0BACC;;8BACE,6LAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,WAAU;;;;;;8BAIZ,6LAAC,2JAAM;oBAAC,SAAS;oBAAc,SAAQ;oBAAU,MAAK;oBAAM,WAAU;8BACnE,UAAU,cAAc;;;;;;8BAI3B,6LAAC,2JAAM;oBACL,SAAS;wBACP,aAAa;wBACb,SAAS,KAAK,KAAK;oBACrB;oBACA,SAAQ;oBACR,WAAU;oBACV,MAAK;8BACN;;;;;;;yCAKH,6LAAC,2JAAM;YAAC,SAAS,IAAM,aAAa;YAAO,SAAQ;YAAU,MAAK;YAAK,WAAU;sBAAM;;;;;;;;;;;AAM/F;GAzFwB;KAAA","debugId":null}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/todos/pages/DialogNotes.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { supabase } from \"../../../lib/supabase-client\";\nimport { Dialog } from \"@headlessui/react\";\nimport { Task } from \"../../../lib/type\";\nimport { NotebookPen } from \"lucide-react\";\n\ninterface DialogNotesProps {\n  task: Task;\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n}\n\nconst DialogNotes: React.FC<DialogNotesProps> = ({ task, setTasks }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [notes, setNotes] = useState(task.notes || \"\");\n  const [isSaving, setIsSaving] = useState(false);\n\n  const handleOpen = () => setIsOpen(true);\n  const handleClose = () => setIsOpen(false);\n\n  const handleSaveNotes = async () => {\n    if (!task.id) return;\n\n    setIsSaving(true);\n\n    const { error } = await supabase\n      .from(\"todos\")\n      .update({ notes })\n      .eq(\"id\", task.id);\n\n    if (error) {\n      console.error(\"Error saving notes:\", error.message);\n      setIsSaving(false);\n      return;\n    }\n\n    // Update local UI immediately\n    setTasks(prevTasks =>\n      prevTasks.map(t => (t.id === task.id ? { ...t, notes } : t))\n    );\n\n    setIsSaving(false);\n    handleClose();\n  };\n\n  return (\n    <>\n      <NotebookPen\n        className=\"w-6 h-6 cursor-pointer\"\n        onClick={handleOpen}\n      />\n\n      <Dialog open={isOpen} onClose={handleClose}>\n        <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black/30\">\n          <Dialog.Panel className=\"bg-white p-6 rounded-lg max-w-lg w-full shadow-lg\">\n            <h1 className=\"text-xl font-semibold\">\n              Notes for Task\n            </h1>\n            <h2 className=\"text-sm mt-2 mb-4\">\n              {task.title}\n            </h2>\n\n            <textarea\n              placeholder=\"Enter your notes here...\"\n              value={notes}\n              onChange={e => setNotes(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-md\"\n              rows={6}\n            />\n\n            <div className=\"flex justify-end gap-2 mt-4\">\n              <button\n                onClick={handleClose}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveNotes}\n                disabled={isSaving}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-md\"\n              >\n                {isSaving ? \"Saving...\" : \"Save Notes\"}\n              </button>\n            </div>\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n    </>\n  );\n};\n\nexport default DialogNotes;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAaA,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;IACjE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,KAAK,KAAK,IAAI;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,aAAa,IAAM,UAAU;IACnC,MAAM,cAAc,IAAM,UAAU;IAEpC,MAAM,kBAAkB;QACtB,IAAI,CAAC,KAAK,EAAE,EAAE;QAEd,YAAY;QAEZ,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE;QAAM,GACf,EAAE,CAAC,MAAM,KAAK,EAAE;QAEnB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;YAClD,YAAY;YACZ;QACF;QAEA,8BAA8B;QAC9B,SAAS,CAAA,YACP,UAAU,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;oBAAE,GAAG,CAAC;oBAAE;gBAAM,IAAI;QAG3D,YAAY;QACZ;IACF;IAEA,qBACE;;0BACE,6LAAC,sOAAW;gBACV,WAAU;gBACV,SAAS;;;;;;0BAGX,6LAAC,4LAAM;gBAAC,MAAM;gBAAQ,SAAS;0BAC7B,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,4LAAM,CAAC,KAAK;wBAAC,WAAU;;0CACtB,6LAAC;gCAAG,WAAU;0CAAwB;;;;;;0CAGtC,6LAAC;gCAAG,WAAU;0CACX,KAAK,KAAK;;;;;;0CAGb,6LAAC;gCACC,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;gCACtC,WAAU;gCACV,MAAM;;;;;;0CAGR,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;kDAGD,6LAAC;wCACC,SAAS;wCACT,UAAU;wCACV,WAAU;kDAET,WAAW,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1C;GA9EM;KAAA;uCAgFS","debugId":null}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/TaskList.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Check } from \"lucide-react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport { useRouter } from \"next/navigation\";\nimport type { Task } from \"../../lib/type\";\nimport DeleteTask from \"./DeleteTask\";\nimport UpdateTask from \"./UpdateTask\";\nimport Button from \"../common/Button\";\nimport DialogNotes from \"../../(protected)/todos/pages/DialogNotes\"; \n\ntype Props = {\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\n\nconst TaskList: React.FC<Props> = ({ tasks, setTasks }) => {\n  const router = useRouter();\n\n const toggleComplete = async (id: string, current: boolean) => {\n  const now = new Date().toISOString();\n  \n  const { error } = await supabase\n    .from(\"todos\")\n    .update({ \n      is_completed: !current,\n      updated_at: now \n    })\n    .eq(\"id\", id);\n\n  if (error) return console.error(\"Toggle error:\", error.message);\n\n  setTasks(prev =>\n    prev.map(task => \n      task.id === id \n        ? { ...task, is_completed: !current, updated_at: now } \n        : task\n    )\n  );\n};\n\n  const uniqueTasks = Array.from(new Map(tasks.map(t => [t.id, t])).values());\n\n  return (\n    <div>\n      <ul className=\"mt-5 w-full max-w-3xl\">\n        {uniqueTasks.map(task => (\n          <li\n            key={task.id}\n            className=\"flex flex-col mt-5 bg-blue-300 p-4 rounded-lg text-white min-w-[400px]\"\n          >\n            <div className=\"flex flex-row items-center justify-between\">\n              <span\n                onClick={() => toggleComplete(task.id, task.is_completed)}\n                className={`flex-1 cursor-pointer ${\n                  task.is_completed ? \"line-through text-white/70\" : \"\"\n                }`}\n              >\n                {task.title}\n                {task.notes && (\n                  <p className=\"mt-2 text-sm text-white/80\">{task.notes}</p>\n                )}\n              </span>\n\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  onClick={() => toggleComplete(task.id, task.is_completed)}\n                  variant=\"primary\"\n                  className=\"p-2\"\n                  size=\"sm\"\n                >\n                  <Check size={15} />\n                </Button>\n\n               \n                <DialogNotes task={task} setTasks={setTasks} />\n\n                <UpdateTask task={task} tasks={tasks} setTasks={setTasks} />\n                <DeleteTask task={task} tasks={tasks} setTasks={setTasks} />\n              </div>\n            </div>\n\n            <span className=\"text-xs text-white/70 mt-2\">\n              Created:{\" \"}\n              {task.created_at\n                ? new Date(task.created_at).toLocaleString()\n                : \"-\"}{\" \"}\n              | Updated:{\" \"}\n              {task.updated_at\n                ? new Date(task.updated_at).toLocaleString()\n                : \"-\"}\n            </span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TaskList;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAVA;;;;;;;;AAiBA,MAAM,WAA4B,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;;IACpD,MAAM,SAAS,IAAA,kJAAS;IAEzB,MAAM,iBAAiB,OAAO,IAAY;QACzC,MAAM,MAAM,IAAI,OAAO,WAAW;QAElC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YACN,cAAc,CAAC;YACf,YAAY;QACd,GACC,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO,OAAO,QAAQ,KAAK,CAAC,iBAAiB,MAAM,OAAO;QAE9D,SAAS,CAAA,OACP,KAAK,GAAG,CAAC,CAAA,OACP,KAAK,EAAE,KAAK,KACR;oBAAE,GAAG,IAAI;oBAAE,cAAc,CAAC;oBAAS,YAAY;gBAAI,IACnD;IAGV;IAEE,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,IAAI,MAAM,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,EAAE;YAAE;SAAE,GAAG,MAAM;IAExE,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAG,WAAU;sBACX,YAAY,GAAG,CAAC,CAAA,qBACf,6LAAC;oBAEC,WAAU;;sCAEV,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,YAAY;oCACxD,WAAW,CAAC,sBAAsB,EAChC,KAAK,YAAY,GAAG,+BAA+B,IACnD;;wCAED,KAAK,KAAK;wCACV,KAAK,KAAK,kBACT,6LAAC;4CAAE,WAAU;sDAA8B,KAAK,KAAK;;;;;;;;;;;;8CAIzD,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,2JAAM;4CACL,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,YAAY;4CACxD,SAAQ;4CACR,WAAU;4CACV,MAAK;sDAEL,cAAA,6LAAC,gNAAK;gDAAC,MAAM;;;;;;;;;;;sDAIf,6LAAC,2KAAW;4CAAC,MAAM;4CAAM,UAAU;;;;;;sDAEnC,6LAAC,6JAAU;4CAAC,MAAM;4CAAM,OAAO;4CAAO,UAAU;;;;;;sDAChD,6LAAC,6JAAU;4CAAC,MAAM;4CAAM,OAAO;4CAAO,UAAU;;;;;;;;;;;;;;;;;;sCAIpD,6LAAC;4BAAK,WAAU;;gCAA6B;gCAClC;gCACR,KAAK,UAAU,GACZ,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc,KACxC;gCAAK;gCAAI;gCACF;gCACV,KAAK,UAAU,GACZ,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc,KACxC;;;;;;;;mBA1CD,KAAK,EAAE;;;;;;;;;;;;;;;AAiDxB;GAjFM;;QACW,kJAAS;;;KADpB;uCAmFS","debugId":null}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/todos/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport AddTask from \"../../components/todo/AddTask\";\nimport TaskList from \"../../components/todo/TaskList\";\nimport type { Task } from \"../../lib/type\";\n\n\n\nexport default function Dashboard() {\n  const [tasks, setTasks] = useState<Task[]>([]);\n\n  \n  // Fetch all tasks\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from(\"todos\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n    if (error) console.error(\"Fetch todos error:\", error.message);\n    else setTasks(data || []);\n  };\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n  // Stats\n  const totalTasks = tasks.length;\n  const completedTasks = useMemo(\n    () => tasks.filter((t) => t.is_completed).length,\n    [tasks]\n  );\n  const remainingTasks = totalTasks - completedTasks;\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center py-10 px-4\">\n      <div className=\"max-w-2xl w-full space-y-8\">\n        \n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n            Your Progress\n          </h2>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"bg-gray-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-gray-700\">{totalTasks}</p>\n              <p className=\"text-sm text-gray-500 mt-1\">Total</p>\n            </div>\n            <div className=\"bg-green-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-green-700\">\n                {completedTasks}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-1\">Completed</p>\n            </div>\n            <div className=\"bg-blue-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-blue-700\">\n                {remainingTasks}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-1\">Remaining</p>\n            </div>\n          </div>\n        </section>\n        {/* Add Task */}\n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n            Add New Task\n          </h2>\n          <AddTask tasks={tasks} setTasks={setTasks} />\n        </section>\n        {/* Task List */}\n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Tasks</h2>\n          <TaskList tasks={tasks} setTasks={setTasks} />        </section>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AASe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAG7C,kBAAkB;IAClB,MAAM,aAAa;QACjB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,sJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAC1C,IAAI,OAAO,QAAQ,KAAK,CAAC,sBAAsB,MAAM,OAAO;aACvD,SAAS,QAAQ,EAAE;IAC1B;IACA,IAAA,0KAAS;+BAAC;YACR;QACF;8BAAG,EAAE;IACL,QAAQ;IACR,MAAM,aAAa,MAAM,MAAM;IAC/B,MAAM,iBAAiB,IAAA,wKAAO;6CAC5B,IAAM,MAAM,MAAM;qDAAC,CAAC,IAAM,EAAE,YAAY;oDAAE,MAAM;4CAChD;QAAC;KAAM;IAET,MAAM,iBAAiB,aAAa;IACpC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAQ,WAAU;;sCACjB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAAoC;;;;;;sDACjD,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV;;;;;;sDAEH,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV;;;;;;sDAEH,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;;;;;;;;;;;;;8BAKhD,6LAAC;oBAAQ,WAAU;;sCACjB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,6LAAC,0JAAO;4BAAC,OAAO;4BAAO,UAAU;;;;;;;;;;;;8BAGnC,6LAAC;oBAAQ,WAAU;;sCACjB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,6LAAC,2JAAQ;4BAAC,OAAO;4BAAO,UAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAIxD;GAhEwB;KAAA","debugId":null}}]
}