{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/api/ai/route.ts"],"sourcesContent":["// app/api/ai/route.ts\nimport { NextResponse } from \"next/server\";\n\nexport async function POST(req: Request) {\n  try {\n    const { prompt } = await req.json();\n    if (!prompt) {\n      return NextResponse.json({ error: \"Prompt is required\" }, { status: 400 });\n    }\n\n    // Call Hugging Face Inference API (Router endpoint)\n    const res = await fetch(\n      \"https://router.huggingface.co/hf-inference/models/mistralai/Mistral-7B-Instruct-v0.2\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${process.env.HUGGINGFACE_API_KEY}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          inputs: prompt,\n          parameters: { max_new_tokens: 100, temperature: 0.7 },\n        }),\n      }\n    );\n\n    if (!res.ok) {\n      const errorText = await res.text();\n      return NextResponse.json({ error: errorText }, { status: res.status });\n    }\n\n    const result = await res.json();\n\n    let text = \"No response from model.\";\n    if (Array.isArray(result)) {\n      text = result[0]?.generated_text || JSON.stringify(result);\n    } else if (typeof result === \"object\") {\n      text = result.generated_text || JSON.stringify(result);\n    }\n\n    return NextResponse.json({ text });\n  } catch (err) {\n    console.error(\"Server error:\", err);\n    return NextResponse.json({ error: \"Server error occurred\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AACtB;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QACjC,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,oDAAoD;QACpD,MAAM,MAAM,MAAM,MAChB,wFACA;YACE,QAAQ;YACR,SAAS;gBACP,iBAAiB,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,mBAAmB,EAAE;gBAC5D,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,QAAQ;gBACR,YAAY;oBAAE,gBAAgB;oBAAK,aAAa;gBAAI;YACtD;QACF;QAGF,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,YAAY,MAAM,IAAI,IAAI;YAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAU,GAAG;gBAAE,QAAQ,IAAI,MAAM;YAAC;QACtE;QAEA,MAAM,SAAS,MAAM,IAAI,IAAI;QAE7B,IAAI,OAAO;QACX,IAAI,MAAM,OAAO,CAAC,SAAS;YACzB,OAAO,MAAM,CAAC,EAAE,EAAE,kBAAkB,KAAK,SAAS,CAAC;QACrD,OAAO,IAAI,OAAO,WAAW,UAAU;YACrC,OAAO,OAAO,cAAc,IAAI,KAAK,SAAS,CAAC;QACjD;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAK;IAClC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF","debugId":null}}]
}