{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/lib/supabase-client.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\n// .env file\nconst supabaseUrl=process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\n// supabase client\nexport const supabase=createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,YAAY;AACZ,MAAM;AACN,MAAM;AAGC,MAAM,WAAS,IAAA,uMAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { supabase } from \"../lib/supabase-client\";\nimport { CheckCircle2, LogOut, User } from \"lucide-react\";\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\";\n\nexport default function ProtectedLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const [user, setUser] = useState<SupabaseUser | null>(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n \n  useEffect(() => {\n    const fetchUser = async () => {\n      const { data, error } = await supabase.auth.getUser();\n      if (error || !data.user) {\n        router.push(\"/auth/signin\");\n        return;\n      }\n      setUser(data.user);\n    };\n\n    fetchUser();\n\n    const { data: listener } = supabase.auth.onAuthStateChange(\n      async (_, session) => {\n        if (!session) router.push(\"/auth/signin\");\n        else setUser(session.user);\n      }\n    );\n\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, [router]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/auth/signin\");\n  };\n\n  if (!user)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center text-lg font-semibold\">\n        Loading user session...\n      </div>\n    );\n\n  const fullName = user.user_metadata?.full_name || \"\";\n  const email = user.email || \"\";\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <header className=\"bg-white shadow-sm sticky top-0 z-50\">\n        <div className=\"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center\">\n          <div\n            className=\"flex items-center gap-2 cursor-pointer\"\n            onClick={() => router.push(\"/todos\")}\n          >\n            <CheckCircle2 className=\"text-blue-600 w-7 h-7\" />\n            <h1 className=\"text-xl font-bold\">My Todo App</h1>\n          </div>\n\n          <div className=\"relative\">\n          <button\n  onClick={() => setMenuOpen(!menuOpen)}\n  className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 text-white font-semibold overflow-hidden\"\n>\n  {user.user_metadata?.avatar_url ? (\n    <img\n      src={user.user_metadata.avatar_url}\n      alt=\"Avatar\"\n      className=\"w-full h-full object-cover\"\n    />\n  ) : (\n    (fullName || email)[0].toUpperCase()\n  )}\n</button>\n\n\n            {menuOpen && (\n              <div className=\"absolute right-0 mt-2 w-55 bg-white border rounded-lg shadow-lg py-2 z-50\">\n                <div className=\"px-4 py-2 border-b\">\n                \n                  <p className=\"text-sm font-medium\">\n                    {fullName || email.split(\"@\")[0]}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">{email}</p>\n                </div>\n\n                <button\n                  onClick={() => {\n                    router.push(\"/profile/profile-settings\");\n                    setMenuOpen(false);\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <User className=\"h-4 w-4\" /> Profile\n                </button>\n\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <LogOut className=\"h-4 w-4\" /> Log out\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-5xl mx-auto p-6\">{children}</main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AALA;;;;;;AAQe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAsB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAGzC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CAAC,IAAI,CAAC,OAAO;YACnD,IAAI,SAAS,CAAC,KAAK,IAAI,EAAE;gBACvB,OAAO,IAAI,CAAC;gBACZ;YACF;YACA,QAAQ,KAAK,IAAI;QACnB;QAEA;QAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,mJAAQ,CAAC,IAAI,CAAC,iBAAiB,CACxD,OAAO,GAAG;YACR,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC;iBACrB,QAAQ,QAAQ,IAAI;QAC3B;QAGF,OAAO;YACL,SAAS,YAAY,CAAC,WAAW;QACnC;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,MAAM,mJAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,MACH,qBACE,8OAAC;QAAI,WAAU;kBAAsE;;;;;;IAKzF,MAAM,WAAW,KAAK,aAAa,EAAE,aAAa;IAClD,MAAM,QAAQ,KAAK,KAAK,IAAI;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,OAAO,IAAI,CAAC;;8CAE3B,8OAAC,qOAAY;oCAAC,WAAU;;;;;;8CACxB,8OAAC;oCAAG,WAAU;8CAAoB;;;;;;;;;;;;sCAGpC,8OAAC;4BAAI,WAAU;;8CACf,8OAAC;oCACT,SAAS,IAAM,YAAY,CAAC;oCAC5B,WAAU;8CAET,KAAK,aAAa,EAAE,2BACnB,8OAAC;wCACC,KAAK,KAAK,aAAa,CAAC,UAAU;wCAClC,KAAI;wCACJ,WAAU;;;;;+CAGZ,CAAC,YAAY,KAAK,CAAC,CAAC,EAAE,CAAC,WAAW;;;;;;gCAKzB,0BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DAEb,8OAAC;oDAAE,WAAU;8DACV,YAAY,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;8DAElC,8OAAC;oDAAE,WAAU;8DAAyB;;;;;;;;;;;;sDAGxC,8OAAC;4CACC,SAAS;gDACP,OAAO,IAAI,CAAC;gDACZ,YAAY;4CACd;4CACA,WAAU;;8DAEV,8OAAC,0MAAI;oDAAC,WAAU;;;;;;gDAAY;;;;;;;sDAG9B,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ1C,8OAAC;gBAAK,WAAU;0BAAyB;;;;;;;;;;;;AAG/C","debugId":null}}]
}