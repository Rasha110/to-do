{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/lib/supabase-client.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\n// .env file\nconst supabaseUrl=process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\n// supabase client\nexport const supabase=createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,YAAY;AACZ,MAAM;AACN,MAAM;AAGC,MAAM,WAAS,IAAA,uMAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/Input.tsx"],"sourcesContent":["// app/components/ui/input.tsx\n\"use client\";\n\nimport React, { InputHTMLAttributes } from \"react\";\n\nexport const Input = React.forwardRef<HTMLInputElement, InputHTMLAttributes<HTMLInputElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${className}`}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;AAG9B;AAFA;;;AAIO,MAAM,sBAAQ,gNAAK,CAAC,UAAU,CACnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,CAAC,gFAAgF,EAAE,WAAW;QACxG,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/Button.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"danger\" | \"third\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  children: React.ReactNode;\n}\n\nexport const Button = ({\n  variant = \"primary\",\n  size = \"md\",\n  children,\n  className = \"\",\n  ...props\n}: ButtonProps) => {\n  // Base classes\n  let baseClasses =\n    \"rounded-md font-medium transition disabled:opacity-50 disabled:cursor-not-allowed\";\n\n  // Size variants\n  let sizeClasses = \"\";\n  switch (size) {\n    case \"sm\":\n      sizeClasses = \"py-1 px-2 text-sm\";\n      break;\n    case \"md\":\n      sizeClasses = \"py-2 px-4 text-base\";\n      break;\n    case \"lg\":\n      sizeClasses = \"py-3 px-6 text-lg\";\n      break;\n  }\n\n  // Color variants\n  let variantClasses = \"\";\n  switch (variant) {\n    case \"primary\":\n      variantClasses = \"bg-blue-600 text-white hover:bg-blue-700\";\n      break;\n    case \"secondary\":\n      variantClasses = \"bg-gray-200 text-gray-800 hover:bg-gray-300\";\n      break;\n    case \"danger\":\n      variantClasses = \"bg-red-600 text-white hover:bg-red-700\";\n      break;\n      case \"third\":\n      variantClasses = \"bg-grey-600 text-black hover:bg-grey-700\";\n      break;\n  }\n\n  return (\n    <button\n      className={`${baseClasses} ${sizeClasses} ${variantClasses} ${className}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n"],"names":[],"mappings":";;;;;;;;AAQO,MAAM,SAAS,CAAC,EACrB,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACS;IACZ,eAAe;IACf,IAAI,cACF;IAEF,gBAAgB;IAChB,IAAI,cAAc;IAClB,OAAQ;QACN,KAAK;YACH,cAAc;YACd;QACF,KAAK;YACH,cAAc;YACd;QACF,KAAK;YACH,cAAc;YACd;IACJ;IAEA,iBAAiB;IACjB,IAAI,iBAAiB;IACrB,OAAQ;QACN,KAAK;YACH,iBAAiB;YACjB;QACF,KAAK;YACH,iBAAiB;YACjB;QACF,KAAK;YACH,iBAAiB;YACjB;QACA,KAAK;YACL,iBAAiB;YACjB;IACJ;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,YAAY,CAAC,EAAE,eAAe,CAAC,EAAE,WAAW;QACxE,GAAG,KAAK;kBAER;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/ChatBot.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { createClient } from \"@supabase/supabase-js\";\nimport { Input } from \"../common/Input\";\nimport Button from \"../common/Button\";\nimport { Send, Bot, User, X, } from \"lucide-react\";\n\ninterface Message {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  timestamp: string;\n}\n\nconst createMessage = (role: \"user\" | \"assistant\", content: string): Message => ({\n  id: Date.now().toString(),\n  role,\n  content,\n  timestamp: new Date().toISOString()\n});\n\nexport function TodoChatbot({ onClose }: { onClose: () => void }) {\n  const [messages, setMessages] = useState<Message[]>([\n    createMessage(\"assistant\", \"Hi! I'm your todo assistant. Ask me about your tasks!\")\n  ]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [authError, setAuthError] = useState<string | null>(null);\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const supabase = createClient(\n          process.env.NEXT_PUBLIC_SUPABASE_URL!,\n          process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n        );\n\n        const { data, error } = await supabase.auth.getUser();\n\n   \n        if (error) {\n          console.error(\"Auth error:\", error);\n          setAuthError(\"Failed to get user authentication\");\n          return;\n        }\n\n        if (!data.user) {\n          setAuthError(\"No user found. Please log in.\");\n          return;\n        }\n\n   \n        setUserId(data.user.id);\n        loadChatHistory(data.user.id);\n      } catch (err) {\n        console.error(\"Error getting user:\", err);\n        setAuthError(\"Error retrieving authentication\");\n      }\n    };\n\n    getUser();\n  }, []);\n\n  useEffect(() => {\n    scrollRef.current?.scrollTo({ \n      top: scrollRef.current.scrollHeight, \n      behavior: 'smooth' \n    });\n  }, [messages]);\n\n  const loadChatHistory = (uid: string) => {\n    try {\n      const saved = localStorage.getItem(`chatbot_history_${uid}`);\n      if (!saved) return;\n      \n      const history = JSON.parse(saved);\n      if (Array.isArray(history) && history.length > 0) {\n        setMessages(history);\n      }\n    } catch (err) {\n      console.error(\"Error loading chat history:\", err);\n    }\n  };\n\n  const saveChatHistory = (msgs: Message[]) => {\n    if (!userId) return;\n    \n    try {\n      localStorage.setItem(`chatbot_history_${userId}`, JSON.stringify(msgs));\n    } catch (err) {\n    }\n  };\n\n  \n\n  const handleSend = async () => {\n    \n\n    // Create and send message\n    const userMessage = createMessage(\"user\", input);\n    const updatedMessages = [...messages, userMessage];\n    \n    setMessages(updatedMessages);\n    saveChatHistory(updatedMessages);\n    setInput(\"\");\n    setIsLoading(true);\n\n    try {\n      // Use Supabase Edge Function\n      const FUNCTION_URL = `${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/chatbot`;\n      \n      const response = await fetch(FUNCTION_URL, {\n        method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`\n        },\n        body: JSON.stringify({\n          query: userMessage.content,\n          user_id: userId,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${errorText}`);\n      }\n\n      const data = await response.json();\n      const assistantMessage = createMessage(\"assistant\", data.reply);\n      const finalMessages = [...updatedMessages, assistantMessage];\n      \n      setMessages(finalMessages);\n      saveChatHistory(finalMessages);\n\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : \"Something went wrong.\";\n      console.error(\"Chat error:\", errorMsg);\n      \n      const errorMessage = createMessage(\"assistant\", `Error: ${errorMsg}`);\n      const finalMessages = [...updatedMessages, errorMessage];\n      \n      setMessages(finalMessages);\n      saveChatHistory(finalMessages);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-white rounded-lg border-0 overflow-hidden\">\n      <div className=\"border-b border-gray-200 p-4 bg-white flex justify-between items-center flex-shrink-0\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <Bot className=\"h-5 w-5 text-blue-600\" /> \n            <h2 className=\"text-lg font-bold\">Todo Assistant</h2>\n          </div>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            {userId ? \"Ask me anything about your tasks\" : \"Loading...\"}\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          \n          <Button \n            variant=\"third\"\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X className=\"h-4 w-4 text-gray-600\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\" ref={scrollRef}>\n        {messages.map(msg => (\n          <div key={msg.id} className={`flex gap-3 ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n            {msg.role === \"assistant\" && (\n              <div className=\"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0\">\n                <Bot className=\"h-4 w-4 text-white\" />\n              </div>\n            )}\n            <div className={`rounded-lg px-4 py-2 max-w-[70%] break-words ${msg.role === \"user\" ? \"bg-blue-500 text-white\" : \"bg-white text-gray-900 border border-gray-200\"}`}>\n              <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n              <span className={`text-xs mt-1 block ${msg.role === \"user\" ? \"text-blue-100\" : \"text-gray-500\"}`}>\n                {new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n              </span>\n            </div>\n            {msg.role === \"user\" && (\n              <div className=\"h-8 w-8 rounded-full bg-gray-400 flex items-center justify-center flex-shrink-0\">\n                <User className=\"h-4 w-4 text-white\" />\n              </div>\n            )}\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"flex gap-3 justify-start\">\n            <div className=\"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0\">\n              <Bot className=\"h-4 w-4 text-white\" />\n            </div>\n            <div className=\"rounded-lg px-4 py-2 bg-white border border-gray-200\">\n              <p className=\"text-sm text-gray-600 animate-pulse\">Thinking...</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"border-t border-gray-200 p-4 bg-white flex gap-2 flex-shrink-0\">\n        <Input \n          value={input} \n          onChange={e => setInput(e.target.value)} \n          onKeyDown={e => e.key === \"Enter\" && handleSend()} \n          placeholder=\"Ask about your todos...\" \n          disabled={isLoading || !userId}\nclassName=\"flex-1\"          \n        />\n        <Button \n          variant=\"primary\"\n          onClick={handleSend} \n          disabled={isLoading || !userId}\n          className=\"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white p-2 rounded-lg transition-colors\"\n        >\n          <Send className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { supabase } from \"../lib/supabase-client\";\nimport { CheckCircle2, LogOut, User, MessageCircle } from \"lucide-react\";\nimport { ChatbotIcon } from \"../components/common/ChatBotIcon\";\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\";\nimport { TodoChatbot } from \"../components/todo/ChatBot\";\n\nexport default function ProtectedLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const [user, setUser] = useState<SupabaseUser | null>(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [chatbotOpen, setChatbotOpen] = useState(false);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const { data, error } = await supabase.auth.getUser();\n      if (error || !data.user) {\n        router.push(\"/auth/signin\");\n        return;\n      }\n      setUser(data.user);\n    };\n\n    fetchUser();\n\n    const { data: listener } = supabase.auth.onAuthStateChange(\n      async (_, session) => {\n        if (!session) router.push(\"/auth/signin\");\n        else setUser(session.user);\n      }\n    );\n\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, [router]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/auth/signin\");\n  };\n\n  if (!user)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center text-lg font-semibold\">\n        Loading user session...\n      </div>\n    );\n\n  const fullName = user.user_metadata?.full_name || \"\";\n  const email = user.email || \"\";\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <header className=\"bg-white shadow-sm sticky top-0 z-40\">\n        <div className=\"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center\">\n          <div\n            className=\"flex items-center gap-2 cursor-pointer\"\n            onClick={() => router.push(\"/todos\")}\n          >\n            <CheckCircle2 className=\"text-blue-600 w-7 h-7\" />\n            <h1 className=\"text-xl font-bold\">My Todo App</h1>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            {/* Chatbot Icon Button */}\n            <button\n              onClick={() => setChatbotOpen(!chatbotOpen)}\n              className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors duration-200\"\n              title=\"Open Todo Assistant\"\n            >\n              <MessageCircle className=\"w-5 h-5\" />\n            </button>\n\n            {/* Avatar and Menu */}\n            <div className=\"relative\">\n              <button\n                onClick={() => setMenuOpen(!menuOpen)}\n                className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 text-white font-semibold overflow-hidden hover:ring-2 hover:ring-blue-300 transition-all\"\n              >\n                {user.user_metadata?.avatar_url ? (\n                  <img\n                    src={user.user_metadata.avatar_url}\n                    alt=\"Avatar\"\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  (fullName || email)[0].toUpperCase()\n                )}\n              </button>\n\n              {menuOpen && (\n                <div className=\"absolute right-0 mt-2 w-55 bg-white border rounded-lg shadow-lg py-2 z-50\">\n                  <div className=\"px-4 py-2 border-b\">\n                    <p className=\"text-sm font-medium\">\n                      {fullName || email.split(\"@\")[0]}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{email}</p>\n                  </div>\n\n                  <button\n                    onClick={() => {\n                      router.push(\"/profile/profile-settings\");\n                      setMenuOpen(false);\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center gap-2\"\n                  >\n                    <User className=\"h-4 w-4\" /> Profile\n                  </button>\n\n                  <button\n                    onClick={handleLogout}\n                    className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2\"\n                  >\n                    <LogOut className=\"h-4 w-4\" /> Log out\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-5xl mx-auto p-6\">{children}</main>\n\n  \n      {chatbotOpen && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-hidden\">\n          <div className=\"bg-white rounded-xl w-full max-w-2xl h-[90vh] flex flex-col shadow-2xl\">\n            <TodoChatbot onClose={() => setChatbotOpen(false)} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AARA;;;;;;;AAUe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAsB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CAAC,IAAI,CAAC,OAAO;YACnD,IAAI,SAAS,CAAC,KAAK,IAAI,EAAE;gBACvB,OAAO,IAAI,CAAC;gBACZ;YACF;YACA,QAAQ,KAAK,IAAI;QACnB;QAEA;QAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,mJAAQ,CAAC,IAAI,CAAC,iBAAiB,CACxD,OAAO,GAAG;YACR,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC;iBACrB,QAAQ,QAAQ,IAAI;QAC3B;QAGF,OAAO;YACL,SAAS,YAAY,CAAC,WAAW;QACnC;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,MAAM,mJAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,MACH,qBACE,8OAAC;QAAI,WAAU;kBAAsE;;;;;;IAKzF,MAAM,WAAW,KAAK,aAAa,EAAE,aAAa;IAClD,MAAM,QAAQ,KAAK,KAAK,IAAI;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,OAAO,IAAI,CAAC;;8CAE3B,8OAAC,qOAAY;oCAAC,WAAU;;;;;;8CACxB,8OAAC;oCAAG,WAAU;8CAAoB;;;;;;;;;;;;sCAGpC,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCACC,SAAS,IAAM,eAAe,CAAC;oCAC/B,WAAU;oCACV,OAAM;8CAEN,cAAA,8OAAC,yOAAa;wCAAC,WAAU;;;;;;;;;;;8CAI3B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,SAAS,IAAM,YAAY,CAAC;4CAC5B,WAAU;sDAET,KAAK,aAAa,EAAE,2BACnB,8OAAC;gDACC,KAAK,KAAK,aAAa,CAAC,UAAU;gDAClC,KAAI;gDACJ,WAAU;;;;;uDAGZ,CAAC,YAAY,KAAK,CAAC,CAAC,EAAE,CAAC,WAAW;;;;;;wCAIrC,0BACC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEACV,YAAY,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;sEAElC,8OAAC;4DAAE,WAAU;sEAAyB;;;;;;;;;;;;8DAGxC,8OAAC;oDACC,SAAS;wDACP,OAAO,IAAI,CAAC;wDACZ,YAAY;oDACd;oDACA,WAAU;;sEAEV,8OAAC,0MAAI;4DAAC,WAAU;;;;;;wDAAY;;;;;;;8DAG9B,8OAAC;oDACC,SAAS;oDACT,WAAU;;sEAEV,8OAAC,oNAAM;4DAAC,WAAU;;;;;;wDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS5C,8OAAC;gBAAK,WAAU;0BAAyB;;;;;;YAGxC,6BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,2JAAW;wBAAC,SAAS,IAAM,eAAe;;;;;;;;;;;;;;;;;;;;;;AAMvD","debugId":null}}]
}