{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/lib/schema/schema.ts"],"sourcesContent":["import * as yup from \"yup\";\nexport const schema=yup.object({title:yup.string().required(\"title is required!\")});\n\n\n\n\n\n\nexport const getAuthSchema = (mode: \"signup\" | \"login\") =>\n    yup.lazy(() => {\n      return yup.object({\n        name:\n          mode === \"signup\"\n            ? yup.string().required(\"Name is required\")\n            : yup.string().notRequired(),\n        email: yup.string().email(\"Invalid email\").required(\"Email is required\"),\n        password: yup.string().min(6, \"Password must be at least 6 characters\").required(),\n      });\n    });\n  \n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,SAAO,6IAAU,CAAC;IAAC,OAAM,6IAAU,GAAG,QAAQ,CAAC;AAAqB;AAO1E,MAAM,gBAAgB,CAAC,OAC1B,2IAAQ,CAAC;QACP,OAAO,6IAAU,CAAC;YAChB,MACE,SAAS,WACL,6IAAU,GAAG,QAAQ,CAAC,sBACtB,6IAAU,GAAG,WAAW;YAC9B,OAAO,6IAAU,GAAG,KAAK,CAAC,iBAAiB,QAAQ,CAAC;YACpD,UAAU,6IAAU,GAAG,GAAG,CAAC,GAAG,0CAA0C,QAAQ;QAClF;IACF","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/Buttons.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"danger\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  children: React.ReactNode;\n}\n\nexport const Button = ({\n  variant = \"primary\",\n  size = \"md\",\n  children,\n  className = \"\",\n  ...props\n}: ButtonProps) => {\n  // Base classes\n  let baseClasses =\n    \"rounded-md font-medium transition disabled:opacity-50 disabled:cursor-not-allowed\";\n\n  // Size variants\n  let sizeClasses = \"\";\n  switch (size) {\n    case \"sm\":\n      sizeClasses = \"py-1 px-2 text-sm\";\n      break;\n    case \"md\":\n      sizeClasses = \"py-2 px-4 text-base\";\n      break;\n    case \"lg\":\n      sizeClasses = \"py-3 px-6 text-lg\";\n      break;\n  }\n\n  // Color variants\n  let variantClasses = \"\";\n  switch (variant) {\n    case \"primary\":\n      variantClasses = \"bg-blue-600 text-white hover:bg-blue-700\";\n      break;\n    case \"secondary\":\n      variantClasses = \"bg-gray-200 text-gray-800 hover:bg-gray-300\";\n      break;\n    case \"danger\":\n      variantClasses = \"bg-red-600 text-white hover:bg-red-700\";\n      break;\n  }\n\n  return (\n    <button\n      className={`${baseClasses} ${sizeClasses} ${variantClasses} ${className}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n"],"names":[],"mappings":";;;;;;;;AAQO,MAAM,SAAS,CAAC,EACrB,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACS;IACZ,eAAe;IACf,IAAI,cACF;IAEF,gBAAgB;IAChB,IAAI,cAAc;IAClB,OAAQ;QACN,KAAK;YACH,cAAc;YACd;QACF,KAAK;YACH,cAAc;YACd;QACF,KAAK;YACH,cAAc;YACd;IACJ;IAEA,iBAAiB;IACjB,IAAI,iBAAiB;IACrB,OAAQ;QACN,KAAK;YACH,iBAAiB;YACjB;QACF,KAAK;YACH,iBAAiB;YACjB;QACF,KAAK;YACH,iBAAiB;YACjB;IACJ;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,YAAY,CAAC,EAAE,eAAe,CAAC,EAAE,WAAW;QACxE,GAAG,KAAK;kBAER;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/AddTask.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport {schema} from \"../../lib/schema/schema\"\nimport Button from \"../common/Buttons\";\nimport type { Task } from \"../../lib/type\";\ntype FormInputs = { title: string };\ntype AddTaskProps = {\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\nexport default function AddTask({ tasks, setTasks }: AddTaskProps) {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm<FormInputs>({\n    resolver: yupResolver(schema),\n  });\n  const addTask = async (title: string) => {\n    const {\n      data: { user },\n    } = await supabase.auth.getUser();\n    if (!user) return ;\n    const { data, error } = await supabase\n      .from(\"todos\")\n      .insert([{ title, is_completed: false, user_id: user.id }])\n      .select();\n    if (error) {\n      console.error(\"Insert error:\", error.message);\n      return;\n    }\n    if (data && data.length > 0) {\n      const newTask = data[0] as Task;\n      setTasks((prev) => [newTask, ...prev]);\n    }\n  };\n\n \n  useEffect(() => {\n    \n    const channel = supabase\n      .channel(\"todos-inserts\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"INSERT\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const newTask = payload.new as Task;\n          setTasks((prev) => [newTask, ...prev]);\n        }\n      )\n      .subscribe();\n   {/*   useEffect(() => {\n        const subscription = supabase\n          .from(\"todos\")\n          .on(\"INSERT\", (payload) => {\n            const newTask = payload.new as Task;\n            setTasks((prev) => [newTask, ...prev]);\n          })\n          .subscribe();\n    \n        return () => {\n          supabase.removeSubscription(subscription);\n        };\n      }, [setTasks]);*/}\n\n return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [setTasks]);\n\n  return (\n    <form\n      onSubmit={handleSubmit(async (data) => {\n        await addTask(data.title);\n        reset();\n      })}\n      className=\"flex flex-col max-w-3xl w-full\"\n    >\n      <label className=\"text-gray-700 mb-3 mt-10\">Write your task</label>\n      <input\n        {...register(\"title\")}\n        placeholder=\"Add your task\"\n        className=\"border p-3 \"\n      />\n      {errors.title && (\n        <p className=\"text-red-500 text-sm\">{errors.title.message}</p>\n      )}\n     <Button type=\"submit\" variant=\"primary\"  className=\"mt-5 w-full\">\n        Add\n      </Button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAae,SAAS,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAgB;IAC/D,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,KAAK,EACL,WAAW,EAAE,MAAM,EAAE,EACtB,GAAG,IAAA,yKAAO,EAAa;QACtB,UAAU,IAAA,6KAAW,EAAC,+IAAM;IAC9B;IACA,MAAM,UAAU,OAAO;QACrB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,mJAAQ,CAAC,IAAI,CAAC,OAAO;QAC/B,IAAI,CAAC,MAAM;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC;YAAC;gBAAE;gBAAO,cAAc;gBAAO,SAAS,KAAK,EAAE;YAAC;SAAE,EACzD,MAAM;QACT,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iBAAiB,MAAM,OAAO;YAC5C;QACF;QACA,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;YAC3B,MAAM,UAAU,IAAI,CAAC,EAAE;YACvB,SAAS,CAAC,OAAS;oBAAC;uBAAY;iBAAK;QACvC;IACF;IAGA,IAAA,kNAAS,EAAC;QAER,MAAM,UAAU,mJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;QACT,GACA,CAAC;YACC,MAAM,UAAU,QAAQ,GAAG;YAC3B,SAAS,CAAC,OAAS;oBAAC;uBAAY;iBAAK;QACvC,GAED,SAAS;QACb,CAYoB;QAEtB,OAAO;YACF,mJAAQ,CAAC,aAAa,CAAC;QACzB;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QACC,UAAU,aAAa,OAAO;YAC5B,MAAM,QAAQ,KAAK,KAAK;YACxB;QACF;QACA,WAAU;;0BAEV,8OAAC;gBAAM,WAAU;0BAA2B;;;;;;0BAC5C,8OAAC;gBACE,GAAG,SAAS,QAAQ;gBACrB,aAAY;gBACZ,WAAU;;;;;;YAEX,OAAO,KAAK,kBACX,8OAAC;gBAAE,WAAU;0BAAwB,OAAO,KAAK,CAAC,OAAO;;;;;;0BAE5D,8OAAC,yJAAM;gBAAC,MAAK;gBAAS,SAAQ;gBAAW,WAAU;0BAAc;;;;;;;;;;;;AAKtE","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/DeleteTask.tsx"],"sourcesContent":["import React from \"react\";\nimport { Trash2 } from \"lucide-react\";\nimport Button from \"../common/Buttons\";\nimport type { Task } from \"../../lib/type\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport { useEffect } from \"react\";\ntype Props = {\n  task: Task;\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\n\nconst DeleteTask: React.FC<Props> = ({ task, tasks, setTasks }) => {\n  const handleDelete = async () => {\n    await supabase.from(\"todos\").delete().eq(\"id\", task.id);\n    setTasks(tasks.filter((t) => t.id !== task.id));\n  };\n  useEffect(() => {\n    const channel = supabase\n      .channel(\"todos-deletes\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"DELETE\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const deletedTask = payload.old as Task;\n          setTasks((prev) => prev.filter((t) => t.id !== deletedTask.id));\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(channel); \n    };\n  }, [setTasks]);\n\n  return (\n    <Button\n      onClick={handleDelete}\n      size=\"sm\" \n      variant=\"danger\" \n      className=\"ml-2 p-2 flex items-center justify-center\"\n    >\n      <Trash2 size={15} />\n    </Button>\n  );\n};\n\nexport default DeleteTask;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AACA;;;;;;AAOA,MAAM,aAA8B,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;IAC5D,MAAM,eAAe;QACnB,MAAM,mJAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE;QACtD,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;IAC/C;IACA,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,mJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;QACT,GACA,CAAC;YACC,MAAM,cAAc,QAAQ,GAAG;YAC/B,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,YAAY,EAAE;QAC/D,GAED,SAAS;QAEZ,OAAO;YACL,mJAAQ,CAAC,aAAa,CAAC;QACzB;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC,yJAAM;QACL,SAAS;QACT,MAAK;QACL,SAAQ;QACR,WAAU;kBAEV,cAAA,8OAAC,oNAAM;YAAC,MAAM;;;;;;;;;;;AAGpB;uCAEe","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/UpdateTask.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport Button from \"../common/Buttons\";\nimport type { Task } from \"../../lib/type\";\n\ninterface UpdateTaskProps {\n  task: Task;\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n}\n\nexport default function UpdateTask({ task, tasks, setTasks }: UpdateTaskProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [title, setTitle] = useState(task.title);\n  const [loading, setLoading] = useState(false);\n\n  const handleUpdate = async () => {\n    if (!title.trim()) return;\n\n    setLoading(true);\n\n    const updatedAt = new Date().toISOString();\n\n    const { error } = await supabase\n      .from(\"todos\")\n      .update({\n        title,\n        updated_at: updatedAt, // âœ… update timestamp manually\n      })\n      .eq(\"id\", task.id);\n\n    if (error) {\n      console.error(\"Error updating task:\", error.message);\n    } else {\n      // âœ… also update UI state immediately\n      setTasks(prev =>\n        prev.map(t =>\n          t.id === task.id ? { ...t, title, updated_at: updatedAt } : t\n        )\n      );\n      setIsEditing(false);\n    }\n\n    setLoading(false);\n  };\n\n  // ðŸ”„ Listen to realtime updates from Supabase\n  useEffect(() => {\n    const channel = supabase\n      .channel(\"todos-updates\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"UPDATE\",\n          schema: \"public\",\n          table: \"todos\",\n        },\n        (payload) => {\n          const updatedTask = payload.new as Task;\n          setTasks(prev =>\n            prev.map(t => (t.id === updatedTask.id ? updatedTask : t))\n          );\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [setTasks]);\n\n  return (\n    <div className=\"ml-2 flex items-center gap-2\">\n      {isEditing ? (\n        <>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"border p-1 rounded text-blue-600 bg-white outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          <Button onClick={handleUpdate} variant=\"primary\" size=\"sm\" className=\"p-1\">\n            {loading ? \"Saving...\" : \"Save\"}\n          </Button>\n          <Button\n            onClick={() => {\n              setIsEditing(false);\n              setTitle(task.title);\n            }}\n            variant=\"secondary\"\n            className=\"p-1\"\n            size=\"sm\"\n          >\n            Cancel\n          </Button>\n        </>\n      ) : (\n        <Button\n          onClick={() => setIsEditing(true)}\n          variant=\"primary\"\n          size=\"sm\"\n          className=\"p-1\"\n        >\n          Edit\n        </Button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAYe,SAAS,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAmB;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,KAAK,KAAK;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,WAAW;QAEX,MAAM,YAAY,IAAI,OAAO,WAAW;QAExC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YACN;YACA,YAAY;QACd,GACC,EAAE,CAAC,MAAM,KAAK,EAAE;QAEnB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;QACrD,OAAO;YACL,qCAAqC;YACrC,SAAS,CAAA,OACP,KAAK,GAAG,CAAC,CAAA,IACP,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE;wBAAO,YAAY;oBAAU,IAAI;YAGhE,aAAa;QACf;QAEA,WAAW;IACb;IAEA,8CAA8C;IAC9C,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,mJAAQ,CACrB,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;QACT,GACA,CAAC;YACC,MAAM,cAAc,QAAQ,GAAG;YAC/B,SAAS,CAAA,OACP,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,YAAY,EAAE,GAAG,cAAc;QAE3D,GAED,SAAS;QAEZ,OAAO;YACL,mJAAQ,CAAC,aAAa,CAAC;QACzB;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QAAI,WAAU;kBACZ,0BACC;;8BACE,8OAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,WAAU;;;;;;8BAEZ,8OAAC,yJAAM;oBAAC,SAAS;oBAAc,SAAQ;oBAAU,MAAK;oBAAK,WAAU;8BAClE,UAAU,cAAc;;;;;;8BAE3B,8OAAC,yJAAM;oBACL,SAAS;wBACP,aAAa;wBACb,SAAS,KAAK,KAAK;oBACrB;oBACA,SAAQ;oBACR,WAAU;oBACV,MAAK;8BACN;;;;;;;yCAKH,8OAAC,yJAAM;YACL,SAAS,IAAM,aAAa;YAC5B,SAAQ;YACR,MAAK;YACL,WAAU;sBACX;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/DialogNotes.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { supabase } from \"../../lib/supabase-client\"; \nimport { Dialog } from \"@headlessui/react\";\nimport { Task } from \"../../lib/type\"; \n\n// Props \ninterface DialogNotesProps {\n  task: Task | null;\n  isOpen: boolean;\n  onClose: () => void;\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n}\n\nconst DialogNotes: React.FC<DialogNotesProps> = ({ task, isOpen, onClose, setTasks }) => {\n  const [notes, setNotes] = useState<string>(task?.notes || \"\");\n\n  // Update notes when task changes\n  useEffect(() => {\n    if (task) {\n      setNotes(task.notes || \"\");\n    }\n  }, [task]);\n\n  const handleSaveNotes = async () => {\n    if (!task) return;\n\n    const updatedNotes = notes;\n\n    \n    const { error } = await supabase\n      .from(\"todos\")\n      .update({ notes: updatedNotes })\n      .eq(\"id\", task.id);\n\n    if (error) {\n      console.error(\"Error saving notes:\", error.message);\n      return;\n    }\n\n    // Update local state for UI immediately\n    setTasks(prevTasks =>\n      prevTasks.map(t =>\n        t.id === task.id ? { ...t, notes: updatedNotes } : t\n      )\n    );\n\n    onClose(); // Close the dialog after saving\n  };\n\n  return (\n    <Dialog open={isOpen} onClose={onClose}>\n      <div className=\"fixed inset-0 flex items-center justify-center z-50\">\n        <Dialog.Panel className=\"bg-white p-6 rounded-lg max-w-lg w-full\">\n          <Dialog.Title className=\"text-xl font-semibold\">Notes for Task</Dialog.Title>\n          <Dialog.Description className=\"text-sm mt-2 mb-4\">{task?.title}</Dialog.Description>\n\n          <div className=\"space-y-4\">\n            <textarea\n              placeholder=\"Enter your notes here...\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-md\"\n              rows={6}\n            />\n\n            <div className=\"flex justify-end gap-2\">\n              <button\n                onClick={onClose}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveNotes}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-md\"\n              >\n                Save Notes\n              </button>\n            </div>\n          </div>\n        </Dialog.Panel>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default DialogNotes;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAeA,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE;IAClF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,MAAM,SAAS;IAE1D,iCAAiC;IACjC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,SAAS,KAAK,KAAK,IAAI;QACzB;IACF,GAAG;QAAC;KAAK;IAET,MAAM,kBAAkB;QACtB,IAAI,CAAC,MAAM;QAEX,MAAM,eAAe;QAGrB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE,OAAO;QAAa,GAC7B,EAAE,CAAC,MAAM,KAAK,EAAE;QAEnB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;YAClD;QACF;QAEA,wCAAwC;QACxC,SAAS,CAAA,YACP,UAAU,GAAG,CAAC,CAAA,IACZ,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;oBAAE,GAAG,CAAC;oBAAE,OAAO;gBAAa,IAAI;QAIvD,WAAW,gCAAgC;IAC7C;IAEA,qBACE,8OAAC,yLAAM;QAAC,MAAM;QAAQ,SAAS;kBAC7B,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,yLAAM,CAAC,KAAK;gBAAC,WAAU;;kCACtB,8OAAC,yLAAM,CAAC,KAAK;wBAAC,WAAU;kCAAwB;;;;;;kCAChD,8OAAC,yLAAM,CAAC,WAAW;wBAAC,WAAU;kCAAqB,MAAM;;;;;;kCAEzD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;gCACV,MAAM;;;;;;0CAGR,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;uCAEe","debugId":null}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/TaskList.tsx"],"sourcesContent":["\"use client\";\nimport { NotebookPen } from \"lucide-react\";\nimport React, { useState } from \"react\";\nimport type { Task } from \"../../lib/type\";\nimport DeleteTask from \"./DeleteTask\";\nimport UpdateTask from \"./UpdateTask\";\nimport Button from \"../common/Buttons\";\nimport { Check } from \"lucide-react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport { useRouter } from \"next/navigation\";\nimport DialogNotes from \"../../components/todo/DialogNotes\"; // Import DialogNotes component\n\ntype Props = {\n  tasks: Task[];\n  setTasks: React.Dispatch<React.SetStateAction<Task[]>>;\n};\n\nconst TaskList: React.FC<Props> = ({ tasks, setTasks }) => {\n  const router = useRouter();\n\n  // State for managing the selected task and dialog visibility\n  const [selectedTask, setSelectedTask] = useState<Task | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  const toggleComplete = async (id: string, current: boolean) => {\n    const { error } = await supabase\n      .from(\"todos\")\n      .update({ is_completed: !current })\n      .eq(\"id\", id);\n\n    if (error) return console.error(\"Toggle error:\", error.message);\n\n    setTasks(prev =>\n      prev.map(task => (task.id === id ? { ...task, is_completed: !current } : task))\n    );\n  };\n\n  const handleOpenDialog = (task: Task) => {\n    setSelectedTask(task);\n    setIsDialogOpen(true);\n  };\n\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false);\n    setSelectedTask(null);\n  };\n\n  const uniqueTasks = Array.from(new Map(tasks.map(t => [t.id, t])).values());\n\n  // Function to format the date in a more readable way\n  const formatDate = (date: string) => {\n    const parsedDate = new Date(date);\n    return parsedDate instanceof Date && !isNaN(parsedDate.getTime())\n      ? parsedDate.toLocaleString()\n      : \"Invalid Date\";\n  };\n\n  return (\n    <div>\n      <ul className=\"mt-5 w-full max-w-3xl\">\n        {uniqueTasks.map((task, index) => (\n          <li\n          key={task.id}\n          className=\"flex flex-col mt-5 bg-blue-300 p-4 rounded-lg text-white min-w-[400px]\"\n        >\n          <div className=\"flex flex-row items-center justify-between\">\n            \n            <span\n              onClick={() => toggleComplete(task.id, task.is_completed)}\n              className={`flex-1 cursor-pointer ${\n                task.is_completed ? \"line-through text-white/70\" : \"\"\n              }`}\n            >\n              {task.title}\n                    {/* Task Notes */}\n {task.notes && (\n  <p className=\"mt-2 text-sm text-white/80\">{task.notes}</p>\n)}\n            </span>\n   \n            <div className=\"flex items-center gap-2\">\n              <Button\n                onClick={() => toggleComplete(task.id, task.is_completed)}\n                variant=\"primary\"\n                className=\"p-2\"\n                size=\"sm\"\n              >\n                <Check size={15} />\n              </Button>\n              <NotebookPen className=\"w-6 h-6\" onClick={() => handleOpenDialog(task)}/>\n          \n              <UpdateTask task={task} tasks={tasks} setTasks={setTasks} />\n              <DeleteTask task={task} tasks={tasks} setTasks={setTasks} />\n            </div>\n          </div>\n     \n          {/* âœ… Timestamps */}\n          <span className=\"text-xs text-white/70 mt-2\">\n            Created:{\" \"}\n            {task.created_at ? new Date(task.created_at).toLocaleString() : \"-\"} |{\" \"}\n            Updated:{\" \"}\n            {task.updated_at ? new Date(task.updated_at).toLocaleString() : \"-\"}\n          </span>\n        </li>\n        \n        ))}\n      </ul>\n\n      {/* Dialog to edit notes */}\n      {selectedTask && (\n        <DialogNotes\n          task={selectedTask}\n          isOpen={isDialogOpen}\n          onClose={handleCloseDialog}\n          setTasks={setTasks}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TaskList;\n\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4PAA6D,+BAA+B;AAV5F;;;;;;;;;;;AAiBA,MAAM,WAA4B,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACpD,MAAM,SAAS,IAAA,+IAAS;IAExB,6DAA6D;IAC7D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc;IAC9D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,iBAAiB,OAAO,IAAY;QACxC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE,cAAc,CAAC;QAAQ,GAChC,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO,OAAO,QAAQ,KAAK,CAAC,iBAAiB,MAAM,OAAO;QAE9D,SAAS,CAAA,OACP,KAAK,GAAG,CAAC,CAAA,OAAS,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE,cAAc,CAAC;gBAAQ,IAAI;IAE7E;IAEA,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;QAChB,gBAAgB;IAClB;IAEA,MAAM,oBAAoB;QACxB,gBAAgB;QAChB,gBAAgB;IAClB;IAEA,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,IAAI,MAAM,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,EAAE;YAAE;SAAE,GAAG,MAAM;IAExE,qDAAqD;IACrD,MAAM,aAAa,CAAC;QAClB,MAAM,aAAa,IAAI,KAAK;QAC5B,OAAO,sBAAsB,QAAQ,CAAC,MAAM,WAAW,OAAO,MAC1D,WAAW,cAAc,KACzB;IACN;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BACX,YAAY,GAAG,CAAC,CAAC,MAAM,sBACtB,8OAAC;wBAED,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCACC,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,YAAY;wCACxD,WAAW,CAAC,sBAAsB,EAChC,KAAK,YAAY,GAAG,+BAA+B,IACnD;;4CAED,KAAK,KAAK;4CAEvB,KAAK,KAAK,kBACV,8OAAC;gDAAE,WAAU;0DAA8B,KAAK,KAAK;;;;;;;;;;;;kDAI3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,yJAAM;gDACL,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,YAAY;gDACxD,SAAQ;gDACR,WAAU;gDACV,MAAK;0DAEL,cAAA,8OAAC,6MAAK;oDAAC,MAAM;;;;;;;;;;;0DAEf,8OAAC,mOAAW;gDAAC,WAAU;gDAAU,SAAS,IAAM,iBAAiB;;;;;;0DAEjE,8OAAC,0JAAU;gDAAC,MAAM;gDAAM,OAAO;gDAAO,UAAU;;;;;;0DAChD,8OAAC,0JAAU;gDAAC,MAAM;gDAAM,OAAO;gDAAO,UAAU;;;;;;;;;;;;;;;;;;0CAKpD,8OAAC;gCAAK,WAAU;;oCAA6B;oCAClC;oCACR,KAAK,UAAU,GAAG,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc,KAAK;oCAAI;oCAAG;oCAAI;oCAClE;oCACR,KAAK,UAAU,GAAG,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc,KAAK;;;;;;;;uBAvC7D,KAAK,EAAE;;;;;;;;;;YA+Cf,8BACC,8OAAC,2JAAW;gBACV,MAAM;gBACN,QAAQ;gBACR,SAAS;gBACT,UAAU;;;;;;;;;;;;AAKpB;uCAEe","debugId":null}},
    {"offset": {"line": 694, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/Card.tsx"],"sourcesContent":["// app/components/ui/card.tsx\n\"use client\";\n\nimport React, { HTMLAttributes, ReactNode } from \"react\";\n\nexport const Card = ({ children, className }: { children: ReactNode; className?: string }) => {\n  return <div className={`bg-white rounded-lg shadow-md ${className}`}>{children}</div>;\n};\n\nexport const CardHeader = ({ children, className }: { children: ReactNode; className?: string }) => {\n  return <div className={`px-4 py-2 border-b ${className}`}>{children}</div>;\n};\n\nexport const CardTitle = ({ children, className }: { children: ReactNode; className?: string }) => {\n  return <h3 className={`text-lg font-semibold ${className}`}>{children}</h3>;\n};\n\nexport const CardDescription = ({ children, className }: { children: ReactNode; className?: string }) => {\n  return <p className={`text-sm text-gray-500 ${className}`}>{children}</p>;\n};\n\nexport const CardContent = ({ children, className }: { children: ReactNode; className?: string }) => {\n  return <div className={`p-4 ${className}`}>{children}</div>;\n};\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;;;;;;;;AAC7B;;AAIO,MAAM,OAAO,CAAC,EAAE,QAAQ,EAAE,SAAS,EAA+C;IACvF,qBAAO,8OAAC;QAAI,WAAW,CAAC,8BAA8B,EAAE,WAAW;kBAAG;;;;;;AACxE;AAEO,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE,SAAS,EAA+C;IAC7F,qBAAO,8OAAC;QAAI,WAAW,CAAC,mBAAmB,EAAE,WAAW;kBAAG;;;;;;AAC7D;AAEO,MAAM,YAAY,CAAC,EAAE,QAAQ,EAAE,SAAS,EAA+C;IAC5F,qBAAO,8OAAC;QAAG,WAAW,CAAC,sBAAsB,EAAE,WAAW;kBAAG;;;;;;AAC/D;AAEO,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE,SAAS,EAA+C;IAClG,qBAAO,8OAAC;QAAE,WAAW,CAAC,sBAAsB,EAAE,WAAW;kBAAG;;;;;;AAC9D;AAEO,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAE,SAAS,EAA+C;IAC9F,qBAAO,8OAAC;QAAI,WAAW,CAAC,IAAI,EAAE,WAAW;kBAAG;;;;;;AAC9C","debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/Input.tsx"],"sourcesContent":["// app/components/ui/input.tsx\n\"use client\";\n\nimport React, { InputHTMLAttributes } from \"react\";\n\nexport const Input = React.forwardRef<HTMLInputElement, InputHTMLAttributes<HTMLInputElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${className}`}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;AAG9B;AAFA;;;AAIO,MAAM,sBAAQ,gNAAK,CAAC,UAAU,CACnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,CAAC,gFAAgF,EAAE,WAAW;QACxG,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/common/ScrollArea.tsx"],"sourcesContent":["// app/components/ui/scroll-area.tsx\n\"use client\";\n\nimport React, { HTMLAttributes, forwardRef } from \"react\";\n\nexport const ScrollArea = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(({ className, children, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      className={`overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 ${className}`}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n});\n\nScrollArea.displayName = \"ScrollArea\";\n"],"names":[],"mappings":"AAAA,oCAAoC;;;;;;AAGpC;AAFA;;;AAIO,MAAM,2BAAa,IAAA,mNAAU,EAAiD,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACvH,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,CAAC,iFAAiF,EAAE,WAAW;QACzG,GAAG,KAAK;kBAER;;;;;;AAGP;AAEA,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/components/todo/ChatBot.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { createClient } from \"@supabase/supabase-js\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"../common/Card\";\nimport { Input } from \"../common/Input\";\nimport Button from \"../common/Buttons\";\nimport { ScrollArea } from \"../common/ScrollArea\";\nimport { Send, Bot, User, X, Trash2 } from \"lucide-react\";\n\ninterface Message {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  timestamp: string;\n}\n\nexport function TodoChatbot({ onClose }: { onClose: () => void }) {\n  const [messages, setMessages] = useState<Message[]>([\n    { \n      id: \"1\", \n      role: \"assistant\", \n      content: \"Hi! I'm your todo assistant. Ask me about your tasks, completion rates, or when you completed specific tasks. For example: 'How many todos did I complete this week?' or 'When did I complete my project report?'\", \n      timestamp: new Date().toISOString() \n    }\n  ]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [authError, setAuthError] = useState<string | null>(null);\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  // Get authenticated user on component mount\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const supabase = createClient(\n          process.env.NEXT_PUBLIC_SUPABASE_URL!,\n          process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n        );\n\n        const { data, error } = await supabase.auth.getUser();\n\n        if (error) {\n          console.error(\"Auth error:\", error);\n          setAuthError(\"Failed to get user authentication\");\n          return;\n        }\n\n        if (data.user) {\n          console.log(\"User authenticated:\", data.user.id);\n          setUserId(data.user.id);\n          // Load chat history from localStorage\n          loadChatHistory(data.user.id);\n        } else {\n          setAuthError(\"No user found. Please log in.\");\n        }\n      } catch (err) {\n        console.error(\"Error getting user:\", err);\n        setAuthError(\"Error retrieving authentication\");\n      }\n    };\n\n    getUser();\n  }, []);\n\n  // Auto scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (scrollRef.current) {\n      setTimeout(() => {\n        if (scrollRef.current) {\n          scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n      }, 0);\n    }\n  }, [messages]);\n\n  // Load chat history from localStorage\n  const loadChatHistory = (uid: string) => {\n    try {\n      const saved = localStorage.getItem(`chatbot_history_${uid}`);\n      if (saved) {\n        const history = JSON.parse(saved);\n        if (Array.isArray(history) && history.length > 0) {\n          setMessages(history);\n        }\n      }\n    } catch (err) {\n      console.error(\"Error loading chat history:\", err);\n    }\n  };\n\n  // Save chat history to localStorage\n  const saveChatHistory = (msgs: Message[]) => {\n    if (userId) {\n      try {\n        localStorage.setItem(`chatbot_history_${userId}`, JSON.stringify(msgs));\n      } catch (err) {\n        console.error(\"Error saving chat history:\", err);\n      }\n    }\n  };\n\n  // Clear chat history\n  const clearChatHistory = () => {\n    if (userId && window.confirm(\"Are you sure you want to clear the chat history?\")) {\n      setMessages([\n        { \n          id: \"1\", \n          role: \"assistant\", \n          content: \"Hi! I'm your todo assistant. Chat history cleared. Ask me about your tasks!\", \n          timestamp: new Date().toISOString() \n        }\n      ]);\n      try {\n        localStorage.removeItem(`chatbot_history_${userId}`);\n      } catch (err) {\n        console.error(\"Error clearing chat history:\", err);\n      }\n    }\n  };\n\n  const handleSend = async () => {\n    if (!input.trim() || isLoading) return;\n\n    if (!userId) {\n      setMessages(prev => [...prev, { \n        id: Date.now().toString(), \n        role: \"assistant\", \n        content: authError || \"Error: Not authenticated. Please refresh the page and log in.\", \n        timestamp: new Date().toISOString() \n      }]);\n      return;\n    }\n\n    const userMessage: Message = { \n      id: Date.now().toString(), \n      role: \"user\", \n      content: input, \n      timestamp: new Date().toISOString() \n    };\n    \n    const updatedMessages = [...messages, userMessage];\n    setMessages(updatedMessages);\n    saveChatHistory(updatedMessages);\n    setInput(\"\");\n    setIsLoading(true);\n\n    try {\n      const FUNCTION_URL = \"/api/chatbot\";\n      console.log(\"Sending to:\", FUNCTION_URL);\n      console.log(\"User ID:\", userId);\n      console.log(\"Query:\", userMessage.content);\n\n      const response = await fetch(FUNCTION_URL, {\n        method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          query: userMessage.content,\n          user_id: userId,\n        }),\n      });\n\n      console.log(\"Response status:\", response.status);\n\n      if (!response.ok) {\n        let errorMsg = \"Failed to get response\";\n        try {\n          const errData = await response.json();\n          errorMsg = errData.error || JSON.stringify(errData);\n        } catch {\n          const text = await response.text();\n          errorMsg = `HTTP ${response.status}: ${text}`;\n        }\n        console.error(\"API Error:\", errorMsg);\n        throw new Error(errorMsg);\n      }\n\n      const data = await response.json();\n      console.log(\"AI Response:\", data.reply?.substring(0, 50) + \"...\");\n\n      const assistantMessage: Message = { \n        id: (Date.now() + 1).toString(), \n        role: \"assistant\", \n        content: data.reply, \n        timestamp: new Date().toISOString() \n      };\n      \n      const finalMessages = [...updatedMessages, assistantMessage];\n      setMessages(finalMessages);\n      saveChatHistory(finalMessages);\n\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : \"Something went wrong.\";\n      console.error(\"Chat error:\", errorMsg);\n      const errorMessage: Message = { \n        id: (Date.now() + 1).toString(), \n        role: \"assistant\", \n        content: `Error: ${errorMsg}`, \n        timestamp: new Date().toISOString() \n      };\n      const finalMessages = [...updatedMessages, errorMessage];\n      setMessages(finalMessages);\n      saveChatHistory(finalMessages);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"h-full flex flex-col rounded-lg border-0\">\n      <CardHeader className=\"border-b flex justify-between items-center p-4\">\n        <div className=\"flex-1\">\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <Bot className=\"h-5 w-5 text-primary\" /> \n            Todo Assistant\n          </CardTitle>\n          <CardDescription className=\"text-xs mt-1\">\n            {userId ? \"Ask me anything about your tasks\" : \"Loading...\"}\n          </CardDescription>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button \n            variant=\"primary\" \n            size=\"sm\" \n            onClick={clearChatHistory}\n            title=\"Clear chat history\"\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n          <Button variant=\"primary\" size=\"sm\" onClick={onClose}>\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"flex-1 flex flex-col p-0 overflow-hidden\">\n        <ScrollArea className=\"flex-1 p-4 overflow-y-auto\" ref={scrollRef}>\n          <div className=\"space-y-4 pr-4\">\n            {messages.map(msg => (\n              <div key={msg.id} className={`flex gap-3 ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n                {msg.role === \"assistant\" && (\n                  <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\n                    <Bot className=\"h-4 w-4 text-primary-foreground\" />\n                  </div>\n                )}\n                <div className={`rounded-lg px-4 py-2 max-w-xs break-words ${msg.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-foreground border border-border\"}`}>\n                  <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                  <span className=\"text-xs opacity-70 mt-1 block\">\n                    {new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                  </span>\n                </div>\n                {msg.role === \"user\" && (\n                  <div className=\"h-8 w-8 rounded-full bg-accent flex items-center justify-center flex-shrink-0\">\n                    <User className=\"h-4 w-4 text-accent-foreground\" />\n                  </div>\n                )}\n              </div>\n            ))}\n            {isLoading && (\n              <div className=\"flex gap-3 justify-start\">\n                <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\n                  <Bot className=\"h-4 w-4 text-primary-foreground\" />\n                </div>\n                <div className=\"rounded-lg px-4 py-2 bg-muted text-foreground border border-border\">\n                  <p className=\"text-sm animate-pulse\">Thinking...</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </ScrollArea>\n\n        <div className=\"border-t p-4 flex gap-2 bg-background\">\n          <Input \n            value={input} \n            onChange={e => setInput(e.target.value)} \n            onKeyDown={e => e.key === \"Enter\" && !e.shiftKey && handleSend()} \n            placeholder=\"Ask about your todos...\" \n            disabled={isLoading || !userId}\n            className=\"flex-1\"\n          />\n          <Button \n            onClick={handleSend} \n            disabled={isLoading || !userId}\n            size=\"sm\"\n          >\n            <Send className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1290, "column": 0}, "map": {"version":3,"sources":["file:///Users/rashafaheem/Desktop/todo-app/src/app/%28protected%29/todos/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { supabase } from \"../../lib/supabase-client\";\nimport AddTask from \"@/app/components/todo/AddTask\";\nimport TaskList from \"@/app/components/todo/TaskList\";\nimport type { Task } from \"../../lib/type\";\nimport { TodoChatbot } from \"../../components/todo/ChatBot\";\n\n\nexport default function Dashboard() {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [open, setOpen] = useState(true);\n  // Fetch all tasks\n  const fetchTodos = async () => {\n    const { data, error } = await supabase\n      .from(\"todos\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n    if (error) console.error(\"Fetch todos error:\", error.message);\n    else setTasks(data || []);\n  };\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n  // Stats\n  const totalTasks = tasks.length;\n  const completedTasks = useMemo(\n    () => tasks.filter((t) => t.is_completed).length,\n    [tasks]\n  );\n  const remainingTasks = totalTasks - completedTasks;\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center py-10 px-4\">\n      <div className=\"max-w-2xl w-full space-y-8\">\n    \n      {open && <TodoChatbot onClose={() => setOpen(false)} />}\n  \n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n            Your Progress\n          </h2>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"bg-gray-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-gray-700\">{totalTasks}</p>\n              <p className=\"text-sm text-gray-500 mt-1\">Total</p>\n            </div>\n            <div className=\"bg-green-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-green-700\">\n                {completedTasks}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-1\">Completed</p>\n            </div>\n            <div className=\"bg-blue-100 rounded-lg p-4 text-center\">\n              <p className=\"text-3xl font-bold text-blue-700\">\n                {remainingTasks}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-1\">Remaining</p>\n            </div>\n          </div>\n        </section>\n        {/* Add Task */}\n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n            Add New Task\n          </h2>\n          <AddTask tasks={tasks} setTasks={setTasks} />\n        </section>\n        {/* Task List */}\n        <section className=\"bg-white rounded-xl shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Tasks</h2>\n          <TaskList tasks={tasks} setTasks={setTasks} />    \n              </section>\n              \n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAEA;AANA;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,kBAAkB;IAClB,MAAM,aAAa;QACjB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,mJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAC1C,IAAI,OAAO,QAAQ,KAAK,CAAC,sBAAsB,MAAM,OAAO;aACvD,SAAS,QAAQ,EAAE;IAC1B;IACA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IACL,QAAQ;IACR,MAAM,aAAa,MAAM,MAAM;IAC/B,MAAM,iBAAiB,IAAA,gNAAO,EAC5B,IAAM,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,YAAY,EAAE,MAAM,EAChD;QAAC;KAAM;IAET,MAAM,iBAAiB,aAAa;IACpC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBAEd,sBAAQ,8OAAC,2JAAW;oBAAC,SAAS,IAAM,QAAQ;;;;;;8BAE3C,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAoC;;;;;;sDACjD,8OAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDACV;;;;;;sDAEH,8OAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDACV;;;;;;sDAEH,8OAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;;;;;;;;;;;;;8BAKhD,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,8OAAC,uJAAO;4BAAC,OAAO;4BAAO,UAAU;;;;;;;;;;;;8BAGnC,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,8OAAC,wJAAQ;4BAAC,OAAO;4BAAO,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAM5C","debugId":null}}]
}